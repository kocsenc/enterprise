<!-- Main Content container -->
<div class="ui grid" style="padding-left: 30px" id="mainGrid">
  <div class="row">
    <div class="five wide column">
      <div class="row" style="text-align: center">
        <h1 class="ui icon header">
          <i class="circular green money icon"></i>PayBook
          <div class="sub header">Easy Social Payments</div>
        </h1>
      </div>

      <div class="ui items">
        <div class="item">
          <div class="image">
            <img src="http://www.phootoscelebrities.com/wp-content/uploads/2014/07/Brad-Pitt-smiling.jpg">
            <a class=" like ui corner label">
              <i class="edit icon"></i>
            </a>
          </div>
          <div class="content">
            <div class="name">{{mainUser.name}}</div>
            <p class="description">
              <b>Balance</b>: ${{mainUser.wallet}}<br>
              <b>Email</b>: &nbsp {{mainUser.email}}
            </p>

            <div class="extra">
              {{users.length}} friends
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="eleven wide column">
      <div class="ui form segment">
        <h2>
          <i class="circular money icon"></i>
          Pay or Request
        </h2>

        <div class="field">
          <label>1. Type</label>

          <div class="ui buttons">
            <div class="ui button" ng-class="{teal: paymentForm.type.pay}"
                 ng-click="paymentForm.type.pay = true;paymentForm.type.request = false;">Pay
            </div>
            <div class="ui button" ng-class="{teal: paymentForm.type.request}"
                 ng-click="paymentForm.type.pay = false;paymentForm.type.request = true;">Request
            </div>
          </div>
        </div>

        <div class="field">
          <label>2. Friends</label>

          <div class="ui left icon input">
            <input placeholder="Search friends..." type="text" ng-model="paymentForm.friendSearch">
            <i class="users icon"></i>
          </div>
        </div>

        <div class="field">
          <label>3. Amount</label>

          <div class="ui left labeled icon input">
            <input placeholder="$0.00" type="text" ng-model="paymentForm.amount">
            <i class="dollar icon"></i>
          </div>
        </div>

        <div class="field">
          <label>What is it for?</label>

          <div class="ui left icon input">
            <input placeholder="Description" type="text" ng-model="paymentForm.description">
            <i class="users icon"></i>
          </div>
        </div>

        <div class="ui green icon submit button" ng-click="submitPaymentRequest()">
          <i class="checkmark icon"></i>Send
        </div>


      </div>


      <div class="ui fluid accordion" id="mainAccordion">
        <!-- Friends -->
        <div class="title">
          <i class="dropdown icon"></i>
          <i class="small user icon"></i>
          Friends
        </div>
        <div class="content">

          <!-- Friend Requests -->
          <table class="ui basic table" ng-show="friendRequests.length > 0">
            <thead>
            <tr>
              <th>Name</th>
              <th>Email</th>
              <th></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="user in friendRequests">
              <td>{{user.name}}</td>
              <td>{{user.email}}</td>
              <td>
                <div class="ui blue button">
                  accept request
                </div>
              </td>

            </tr>
            </tbody>

          </table>

          <!-- Friends stuff -->
          <table class="ui basic table">
            <thead>
            <tr>
              <th>Name</th>
              <th>Email</th>
              <th></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="user in friends">
              <td>{{user.name}}</td>
              <td>{{user.email}}</td>
              <td>
                <div class="ui buttons">
                  <div class="ui button">Request</div>
                  <div class="or"></div>
                  <div class="ui positive button">Pay</div>
                </div>
              </td>
            </tr>
            </tbody>
          </table>
        </div>

        <!-- Search People -->
        <div class="title">
          <i class="dropdown icon"></i>
          <i class="small users icon"></i>
          People
        </div>
        <div class="content">
          <div class="ui left icon input">
            <input ng-model="searchUserQuery" placeholder="Search users..." type="text">
            <i class="users icon"></i>
          </div>

          <table class="ui basic table">
            <thead>
            <tr>
              <th>Name</th>
              <th>Email</th>
              <th></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="user in users | filter:searchUserQuery">
              <td>{{user.name}}</td>
              <td>{{user.email}}</td>
              <td>
                <div class="ui tiny blue button">
                  add friend
                </div>
              </td>
            </tr>
            </tbody>
          </table>
        </div>

        <!-- Requests -->
        <div class="title">
          <i class="dropdown icon"></i>
          <i class="small ticket icon"></i>
          My Requests
        </div>
        <div class="content">

          <div class="ui divided list">
            <div class="item" ng-repeat="request in requests">
              <div class="right floated tiny teal ui button">Fulfill</div>
              <div class="right floated tiny red ui button">Cancel</div>
              <!-- <img class="ui avatar image" src="avatar2.jpg">
              -->

              <div class="content">
                <div class="header">
                  {{findWho(request, mainUser.id)}}
                </div>
                <div class="description">
                  <i class="dollar icon"></i>
                  {{request.amount}}
                  <br>
                  {{request.description}}
                </div>
              </div>
            </div>

          </div>

        </div>

        <!-- Payments -->
        <div class="title">
          <i class="dropdown icon"></i>
          <i class="small payment icon"></i>
          Payment Types
        </div>
        <div class="content">
          <div class="ui green label">
            <i class="plus icon"></i>
            Add payment type
          </div>

          <div class="ui fluid big animated divided list">
            <div class="item" ng-repeat="card in paymentTypes.card" ng-hide="paymentTypes.card.length > 0">
              <div class="right floated red ui icon button">
                <i class="remove circle icon"></i>
              </div>
              <i class="payment icon"></i>

              <div class="content">

                <div class="header">
                  Credit/Debit Card
                </div>
                <div class="description">
                  Card Number: {{card.ccnum}}<br>
                  Expiration: XX-<b>2016</b>
                </div>
              </div>
            </div>

            <div class="item" ng-repeat="acc in paymentTypes.baccount">
              <div class="right floated red ui icon button">
                <i class="remove circle icon"></i>
              </div>
              <i class="building icon"></i>

              <div class="content">

                <div class="header">
                  BofA Checking Account
                </div>
                <div class="description">
                  Account Number: XXXXXXX - <b>{{acc.routingNumber}}</b>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


    </div>

  </div>

</div>
